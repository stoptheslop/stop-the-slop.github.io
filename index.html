---
layout: null
pagination:
  enabled: true
  collection: signatures
  per_page: 10
  sort_field: "date"
  sort_reverse: true
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stop The Slop</title>
    {% seo %}
    <link rel="stylesheet" href="/assets/css/style.css" />
  </head>
  <body>
    <header>
      <img src="/assets/images/logo.png" alt="Stop The Slop Logo" width="150" />
      <h1>Stop The Slop</h1>
      <p>A manifesto for genuine design and engineering.</p>
    </header>

    <main>
      <section class="backdrop">
        <h2>{{ site.data.content.backdrop.title | default: "The Backdrop" }}</h2>
        <div class="content">
          {{ site.data.content.backdrop.body | default: "Content coming soon..." | markdownify }}
        </div>
      </section>

      <article class="manifesto">
        <h2>{{ site.data.content.manifesto.title | default: "The Manifesto" }}</h2>
        {% for item in site.data.content.manifesto.items %}
        <p>{{ item }}</p>
        {% endfor %}
      </article>

      <section class="call-to-action">
        <h3>Stand for Quality.</h3>
        <a
          href="https://github.com/stoptheslop/stop-the-slop.github.io/issues/new?template=sign_manifesto.yml"
          class="sign-button"
          target="_blank"
          >Sign the Manifesto</a
        >
      </section>

      <section class="signatures">
        {% assign items_count = paginator.total_items | default: site.signatures.size | default: 0 %}
        <h2>Signatories ({{ items_count }})</h2>

        <!-- Debug Info -->
        <!-- Paginator exists: {{ paginator | yesno: "YES", "NO" }} -->
        <!-- Paginator Total items: {{ paginator.total_items }} -->
        <!-- Paginator Documents size: {{ paginator.documents.size }} -->
        <!-- Collection size: {{ site.signatures.size }} -->

        <div class="signature-list">
          {% assign docs = paginator.documents | default: paginator.posts %} {% if docs.size > 0 %} {% for signature in
          docs %}
          <div class="signature">
            <p class="name">{{ signature.name }}</p>
            <p class="affiliation">{{ signature.affiliation }}</p>
            <a
              href="https://github.com/{{ signature.github_username | replace: '@', '' }}"
              target="_blank"
              rel="noopener"
              >@{{ signature.github_username | replace: "@", "" }}</a
            >
          </div>
          {% endfor %} {% else %}
          <!-- Fallback: showing first 10 legacy style or if paginator failed -->
          {% for signature in site.signatures limit:10 %}
          <div class="signature">
            <p class="name">{{ signature.name }}</p>
            <p class="affiliation">{{ signature.affiliation }}</p>
            <a
              href="https://github.com/{{ signature.github_username | replace: '@', '' }}"
              target="_blank"
              rel="noopener"
              >@{{ signature.github_username | replace: "@", "" }}</a
            >
          </div>
          {% endfor %} {% endif %}
        </div>

        <div class="pagination" style="text-align: center; margin-top: 30px">
          {% if paginator.total_pages > 1 %} {% if paginator.previous_page %}
          <a href="{{ paginator.previous_page_path | relative_url }}" class="pagination-link">&laquo; Prev</a>
          {% endif %}
          <span>Page {{ paginator.page }} of {{ paginator.total_pages }}</span>
          {% if paginator.next_page %}
          <a href="{{ paginator.next_page_path | relative_url }}" class="pagination-link">Next &raquo;</a>
          {% endif %} {% endif %}
        </div>
      </section>
    </main>

    <footer>
      <p>This is a community-driven effort hosted on GitHub.</p>
    </footer>
  </body>
</html>
